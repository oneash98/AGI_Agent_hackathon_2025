# 건강검진 결과 해석 및 병원 추천 시스템

## 프로젝트 개요
이 프로젝트는 사용자가 업로드한 건강검진 결과 이미지를 OCR 및 구조 인식 기술을 통해 분석하여, JSON 형태의 건강 정보를 추출합니다. 이를 바탕으로 친근한 건강 팁, 임상적으로 정확한 전문 요약, LLM을 활용한 쉬운 설명을 제공하며, 사용자의 위치 정보를 활용하여 적합한 병원이나 약국을 추천하는 통합 솔루션입니다. 추가로, 사용자의 검진 결과와 전문적인 건강 정보에 기반하여 챗봇 형식의 맞춤형 Q&A를 제공합니다.

## Quickstart
0. **서비스 링크**  
   agent-hackathon.streamlit.app  
   (25.04.05. 이후 삭제 예정)


1. **레포지토리 클론**
   ```bash
   git clone <https://github.com/oneash98/AGI_Agent_hackathon_2025>
   ```

2. **환경 변수 설정**  
   프로젝트 루트 디렉토리에 `.env` 파일을 생성하거나, 스트림릿 실행 환경에서 `st.secrets`를 사용하여 아래 API 키들을 설정합니다.
   - `API_KEY`: Upstage API Key (OCR, 정보 추출, LLM 호출용)
   - `GOOGLE_MAPS_API_KEY`: 구글 맵 API Key (지도 연동 및 병원 위치 표시용)

3. **필수 라이브러리 설치**  
   제공된 `requirements.txt` 파일을 사용하여 필요한 패키지를 한 번에 설치합니다. (Python 3.12)
   ```bash
   pip install -r requirements.txt
   ```

4. **프로젝트 실행**  
   Streamlit 기반 UI를 실행합니다.
   ```bash
   streamlit run UI.py
   ```

## 기능 설명
### 1. 사용자 초기 입력
- **입력 항목**: 나이대(10대~90대), 성별
- **역할**: 추후 개인 맞춤형 건강 정보 및 병원 추천에 활용되는 기본 사용자 정보를 입력받습니다.

### 2. 건강검진 결과 업로드
- **기능**: 사용자가 스마트폰이나 기타 디바이스로 촬영한 건강검진 결과 이미지를 업로드합니다.

### 3. Information Extraction (OCR + 구조 인식)
- **목적**: 업로드된 이미지에서 OCR 기술을 통해 텍스트를 추출하고, 구조 인식을 통해 건강검진 결과를 JSON 포맷으로 변환합니다.
- **주요 추출 항목**:  
  - 신체 계측: 키, 몸무게, 체질량지수, 허리둘레
  - 혈액 검사: 혈압, 혈색소, 공복혈당, 콜레스테롤, 중성지방 등
  - 기타 검사 결과: 간 기능, 신장 기능, 흉부촬영 결과 등
- **API 사용**: Upstage API를 활용하여 이미지 인코딩 및 정보 추출을 수행합니다.

### 4. 로딩 중 친근한 정보 제공
- **설명**: 이미지 → JSON 변환 과정에 시간이 소요될 경우, 미리 준비된 `friendlyInformation.csv` 파일에 건강 상식 중 무작위로 하나를 선택하여 사용자에게 유용한 건강 팁을 제공합니다.

### 5. LLM을 이용한 친근한 설명 제공
- **기능**: 추출한 건강검진 결과 정보를 기반으로 사용자가 이해하기 쉬운 친근한 건강 요약 문구를 생성합니다.
- **특징**: 어려운 의학 용어 대신 일상 언어를 사용하여, 환자에게 감정적으로도 지원하는 설명을 제공합니다.

### 6. 진료과 추천
- **목적**: 사용자의 건강검진 결과를 기반으로 적절한 진료과를 추천합니다.

### 7. 병원 추천
- **목적**: 사용자의 건강검진 결과와 위치 정보를 기반으로 가장 적합한 병원을 추천합니다.
- **프로세스**:
  - **추천 병원 표시**: 사용자에게 필요한 진료를 받을 수 있는 병원들 중 가장 가까운 병원 정보(병원 이름, 주소, 전화번호, 홈페이지 링크 등)를 알려줍니다.
  - **지도 연동**: 병원 이름을 클릭 시 지도 상의 위치를 제공합니다.


### 8. Chatbot UI - 추가 질의시스템 
- **역할**: 사용자가 추가적인 건강 관련 질문(예: “고혈압은 어떻게 관리하나요?”)을 입력하면, 사용자의 건강검진 결과와 전문적인 건강 정보 DB를 참고하여 사용자 맞춤형 답변을 제공합니다.
